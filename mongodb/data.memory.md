# mongodb哪些数据在占用内存

mongodb在运行过程中，主要有2部分占用内存： 数据和索引

到底MongoDB配备多大内存合适?宽泛点来说，如果要确切点来说，这实际取决于你的数据及索引的大小，内存如果能够装下全部数据加索引是最佳情况，不过很多时候，数据都会比内存大，比如本文说涉及的MongoDB实例：

```mongo
mongo> db.stats()

{
    "dataSize" : 1004862191980,
　　"indexSize" : 1335929664
}
```

本例中索引只有1G多，内存完全能装下，而数据文件则达到了1T，估计很难找到这么大内存，此时保证内存能装下热数据即可，至于热数据有多少，这就是个比例问题了，取决于具体的应用。

如此一来内存大小就明确了：内存 > 索引 + 热数据。